<html>
<head>
    <script type="text/javascript" src="src/utils.js"></script>
    <script type="text/javascript" src="src/globalConstants.js"></script>
    <script type="text/javascript" src="http://code.jquery.com/jquery-2.0.3.min.js"></script>
    <script type="text/javascript" src="src/two.js"></script>
    <script type="text/javascript" src="src/Agent/agent.js"></script>
    <script type="text/javascript" src="src/Swarm/swarm.js"></script>
    <script type="text/javascript" src="src/Targets/mouseTarget.js"></script>
    <script type="text/javascript" src="src/Targets/target.js"></script>
    <script type="text/javascript" src="src/Targets/targetCollection.js"></script>

    <style>
        body {
            background-color: black;
            color: white;
        }

        #canvas {
            height: 90%;
            width: 90%;
        }
    </style>
</head>
<body>
<div id="canvas" style="background: black"></div>
<script type="text/javascript">
    let elem = document.getElementById('canvas');
    const playArea = {
        width: $(window).width() - 20,
        height: $(window).height() - 40
    };

    const two = new Two(playArea).appendTo(elem);

    const swarm = new Swarm(two, playArea);
    swarm.spawnAgents();

    const targetCollection = new TargetCollection(two, playArea);
    targetCollection.spawnTargets();

    two.bind('update', function () {
        targetCollection.update();
        swarm.update(targetCollection.targets);
    });

    two.update()

    window.onkeydown = (event) => {
        if (event.code === `Space`){
            if (two.playing) {
                two.pause()
            } else {
                two.play()
            }
        }
    }
</script>
</body>
</html>
